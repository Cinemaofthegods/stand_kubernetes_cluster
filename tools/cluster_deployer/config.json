{
  "extended_deployer_logging": true,
  "cluster_ip": "10.11.1.251",
  "dns_ip": "10.11.1.254",
  "dockerhub_registry": "deeppavlov",
  "docker_base_url": "unix://var/run/docker.sock",
  "test_image_url": "http://0.0.0.0:{{PORT}}/answer",
  "test_deployment_url": "https://{{CLUSTER_PORT}}.lnsigo.mipt.ru/answer",
  "local_log_dir": "~/dev/logs/",
  "container_log_dir": "/logs/",
  "local_gpu_device_index": 0,
  "gpu_templates": [
    "gpu",
    "gpu_custom",
    "gpu_obsolete",
    "rb_gpu_custom"
  ],
  "model_groups": {
    "stand": [
      "stand_ner_ru",
      "stand_ner_en",
      "stand_intents_en",
      "stand_insults_en",
      "stand_ranking_en",
      "stand_squad_ru",
      "stand_squad_en",
      "stand_odqa_ru",
      "stand_odqa_en"
    ],
    "dpas": [
      "dpas_ru_odqa_infer_wiki",
      "dpas_ranking_mailru_bert",
      "dpas_ranking_chitchat_2staged_tfidf_smn_v4",
      "dpas_ranking_chitchat_2staged_tfidf_smn_v11",
      "dpas_mailru",
      "dpas_thequestion",
      "dpas_ranking_mailru_bert_1",
      "dpas_ranking_mailru_bert_2",
      "dpas_ranking_mailru_bert_3",
      "dpas_ranking_mailru_bert_4"
    ],
    "demo": [
      "demo_config_chitchat_vs_odqa"
    ],
    "sber": [
      "sber_ranking_chitchat_2staged_tfidf_smn_v8"
    ],
    "custom": [],
    "all": [
      "stand_ner_ru",
      "stand_ner_en",
      "stand_intents_en",
      "stand_insults_en",
      "stand_ranking_en",
      "stand_squad_ru",
      "stand_squad_en",
      "stand_odqa_ru",
      "stand_odqa_en",
      "dpas_ru_odqa_infer_wiki",
      "dpas_ranking_mailru_bert",
      "dpas_ranking_chitchat_2staged_tfidf_smn_v4",
      "dpas_ranking_chitchat_2staged_tfidf_smn_v11",
      "dpas_mailru",
      "dpas_thequestion",
      "dpas_ranking_mailru_bert_1",
      "dpas_ranking_mailru_bert_2",
      "dpas_ranking_mailru_bert_3",
      "dpas_ranking_mailru_bert_4",
      "demo_config_chitchat_vs_odqa",
      "sber_ranking_chitchat_2staged_tfidf_smn_v8"
    ]
  },
  "paths": {
    "deployer_dir": "{{root_dir}}/tools/cluster_deployer/",
    "templates_dir": "{{root_dir}}/tools/cluster_deployer/templates/",
    "models_subdir": "models/",
    "models_dir": "{{root_dir}}/{{models_subdir}}/",
    "kuber_configs_dir": "{{root_dir}}/kuber_configs/models/",
    "temp_dir": "{{deployer_dir}}/temp/",
    "log_dir": "{{deployer_dir}}/log/"
  },
  "model_template": {
    "MODEL_NAME": "template",
    "PREFIX": "template",
    "CONFIG_FILE": "",
    "TEMPLATE": "",
    "BRANCH": "",
    "CUDA_VERSION": "",
    "TF_VERSION": "",
    "PORT": "",
    "CLUSTER_PORT": "",
    "MODEL_ARGS": [],
    "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
    "run_mode": "riseapi",
    "run_params": {
      "_flags": []
    },
    "test_image_url": "",
    "test_deployment_url": "",
    "image_polling_timeout_sec": 60,
    "deployment_polling_timeout_sec": 60,
    "pipeline": "all_up_kuber"
  },
  "models": [
    {
      "MODEL_NAME": "ner_ru",
      "PREFIX": "stand",
      "CONFIG_FILE": "ner/ner_rus.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6004,
      "CLUSTER_PORT": 7004,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 600,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "ner_en",
      "PREFIX": "stand",
      "CONFIG_FILE": "ner/ner_ontonotes.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6010,
      "CLUSTER_PORT": 7010,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 600,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "squad_ru",
      "PREFIX": "stand",
      "CONFIG_FILE": "squad/squad_ru.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6005,
      "CLUSTER_PORT": 7005,
      "MODEL_ARGS": [
        "text1",
        "text2"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 600,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "squad_en",
      "PREFIX": "stand",
      "CONFIG_FILE": "squad/squad.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6008,
      "CLUSTER_PORT": 7008,
      "MODEL_ARGS": [
        "text1",
        "text2"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 600,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "intents_en",
      "PREFIX": "stand",
      "CONFIG_FILE": "classifiers/intents_snips.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6007,
      "CLUSTER_PORT": 7007,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 600,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "ranking_en",
      "PREFIX": "stand",
      "CONFIG_FILE": "ranking/ranking_insurance_interact.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6009,
      "CLUSTER_PORT": 7009,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 600,
      "deployment_polling_timeout_sec": 1200,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "insults_en",
      "PREFIX": "stand",
      "CONFIG_FILE": "classifiers/insults_kaggle.json",
      "TEMPLATE": "no_gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6006,
      "CLUSTER_PORT": 7006,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 1200,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "odqa_en",
      "PREFIX": "stand",
      "CONFIG_FILE": "odqa/en_odqa_pop_infer_enwiki20180211.json",
      "TEMPLATE": "gpu",
      "CUDA_VERSION": "9.0",
      "PORT": 6011,
      "CLUSTER_PORT": 7011,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 1200,
      "deployment_polling_timeout_sec": 2400,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "odqa_ru",
      "PREFIX": "stand",
      "CONFIG_FILE": "odqa/ru_odqa_infer_wiki_retr_noans.json",
      "TEMPLATE": "gpu_custom",
      "BRANCH": "squad_with_retr_data",
      "CUDA_VERSION": "9.0",
      "PORT": 6012,
      "CLUSTER_PORT": 7012,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 600,
      "deployment_polling_timeout_sec": 1200,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "config_chitchat_vs_odqa",
      "PREFIX": "demo",
      "CONFIG_FILE": "classifiers/config_chitchat_vs_odqa.json",
      "TEMPLATE": "no_gpu_custom",
      "BRANCH": "feat/chitchat_vs_odqa",
      "CUDA_VERSION": "9.0",
      "PORT": 6066,
      "CLUSTER_PORT": 7066,
      "MODEL_ARGS": [
        "text1"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "image_polling_timeout_sec": 120,
      "deployment_polling_timeout_sec": 600,
      "pipeline": "all_up_kuber"
    },
    {
      "MODEL_NAME": "ranking_chitchat_2staged_tfidf_smn_v8",
      "PREFIX": "sber",
      "CONFIG_FILE": "ranking/ranking_chitchat_2staged_tfidf_smn_v8.json",
      "TEMPLATE": "gpu_custom",
      "BRANCH": "hybrid_ranker",
      "CUDA_VERSION": "9.0",
      "PORT": 6069,
      "CLUSTER_PORT": 7069,
      "MODEL_ARGS": [
        "utterance",
        "history",
        "dummy_state"
      ],
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "riseapi",
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ru_odqa_infer_wiki",
      "PREFIX": "dpas",
      "CONFIG_FILE": "odqa/ru_odqa_infer_wiki.json",
      "TEMPLATE": "rb_no_gpu_custom",
      "BRANCH": "dev",
      "CUDA_VERSION": "9.0",
      "PORT": 6064,
      "CLUSTER_PORT": 7064,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "cd496eee-61a5-4d0a-a0a0-d5090d750d57"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_mailru_bert",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_mailru_bert.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "feat/bert_ranker_bot",
      "CUDA_VERSION": "9.0",
      "PORT": 6061,
      "CLUSTER_PORT": 7061,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "343f5688-4df9-4ef1-a05e-cfd9af9114aa"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_chitchat_2staged_tfidf_smn_v4",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_chitchat_2staged_tfidf_smn_v4.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "hybrid_ranker",
      "CUDA_VERSION": "9.0",
      "PORT": 6062,
      "CLUSTER_PORT": 7062,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "7efabf80-8298-4cd4-99c2-aa93c3c2a8f9"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_chitchat_2staged_tfidf_smn_v11",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_chitchat_2staged_tfidf_smn_v11.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "hybrid_ranker",
      "CUDA_VERSION": "9.0",
      "PORT": 6063,
      "CLUSTER_PORT": 7063,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "b5e47087-cdc6-42cb-a04f-179f3afa4b0e"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "mailru",
      "PREFIX": "dpas",
      "CONFIG_FILE": "odqa/mailru.json",
      "TEMPLATE": "rb_no_gpu_custom",
      "BRANCH": "question_bots",
      "CUDA_VERSION": "9.0",
      "PORT": 6067,
      "CLUSTER_PORT": 7067,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "6872a219-e75c-4a19-9ad1-178948ce4d00"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "thequestion",
      "PREFIX": "dpas",
      "CONFIG_FILE": "odqa/thequestion.json",
      "TEMPLATE": "rb_no_gpu_custom",
      "BRANCH": "question_bots",
      "CUDA_VERSION": "9.0",
      "PORT": 6068,
      "CLUSTER_PORT": 7068,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "e3bd62fa-ee63-4001-b409-f9fe535df690"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_mailru_bert_1",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_mailru_bert_1.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "feat/bert_ranker_bot_3",
      "CUDA_VERSION": "9.0",
      "PORT": 6070,
      "CLUSTER_PORT": 7070,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "e3778877-5f22-4ff8-9011-62065d4491e6"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_mailru_bert_2",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_mailru_bert_2.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "feat/bert_ranker_bot_3",
      "CUDA_VERSION": "9.0",
      "PORT": 6071,
      "CLUSTER_PORT": 7071,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "6efbb8eb-339b-4870-8d3e-01bee901b2af"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_mailru_bert_3",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_mailru_bert_3.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "feat/bert_ranker_bot_3",
      "CUDA_VERSION": "9.0",
      "PORT": 6072,
      "CLUSTER_PORT": 7072,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "bc3684dd-0d3c-4c83-b4c9-7c0d9464c48d"
      },
      "pipeline": "all_up_kuber_no_tests"
    },
    {
      "MODEL_NAME": "ranking_mailru_bert_4",
      "PREFIX": "dpas",
      "CONFIG_FILE": "ranking/ranking_mailru_bert_4.json",
      "TEMPLATE": "rb_gpu_custom",
      "BRANCH": "feat/bert_ranker_bot_3",
      "CUDA_VERSION": "9.0",
      "PORT": 6073,
      "CLUSTER_PORT": 7073,
      "DOCKER_REGISTRY": "kubeadm.ipavlov.mipt.ru:5000",
      "run_mode": "",
      "run_params": {
        "_flags": [
          "--default-skill"
        ],
        "--host": "10.11.1.58",
        "--port": 8433,
        "--token": "dca8f018-00d1-4a90-ab5a-b69318db622c"
      },
      "pipeline": "all_up_kuber_no_tests"
    }
  ]
}
